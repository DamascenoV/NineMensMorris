<div class="lobby-container">
  <div class="lobby-header">
    <h1 class="lobby-title">Nine Men's Morris</h1>
    <p class="lobby-subtitle">Create a new game or join an existing one</p>
  </div>

  <%= if @error do %>
    <div class="error-banner">
      <div class="error-content">
        <.icon name="hero-exclamation-triangle" class="w-5 h-5" />
        <span class="error-message">{@error}</span>
        <button class="error-close" phx-click="clear_error" aria-label="Close error">
          <.icon name="hero-x-mark" class="w-5 h-5" />
        </button>
      </div>
    </div>
  <% end %>

  <div class="lobby-content">
    <div class="lobby-section">
      <div class="section-header">
        <h2 class="section-title">Join Game</h2>
        <p class="section-description">Enter a game ID to join an existing game</p>
      </div>

      <.form
        for={@join_form}
        id="join-game-form"
        phx-submit="join_game"
        phx-change="validate_join"
        class="game-form"
      >
        <div class="form-group">
          <.input
            field={@join_form[:game_id]}
            type="text"
            placeholder="Enter game ID"
            required
            class="game-input"
          />
        </div>

        <div class="form-group">
          <.input
            id="password-join"
            field={@join_form[:password]}
            type="password"
            placeholder="Password (if required)"
            class="game-input"
          />
        </div>

        <button type="submit" class="join-button">
          <.icon name="hero-play" class="w-5 h-5" /> Join Game
        </button>
      </.form>
    </div>
    <div class="lobby-section">
      <div class="section-header">
        <h2 class="section-title">Create Game</h2>
        <p class="section-description">
          Start a new game for others to join
        </p>
      </div>

      <.form
        for={@create_form}
        id="create-game-form"
        phx-submit="create_game"
        phx-change="validate_create"
        class="game-form"
      >
        <div class="form-group">
          <label class="checkbox-label">
            <.input field={@create_form[:is_private]} type="checkbox" class="game-checkbox" />
            <span class="checkbox-text">Private Game</span>
          </label>
        </div>

        <div class="form-group" id="password-group">
          <.input
            id="password-create"
            field={@create_form[:password]}
            type="password"
            placeholder="Set password"
            class="game-input"
          />
        </div>

        <button type="submit" class="create-button">
          <.icon name="hero-plus" class="w-5 h-5" /> Create Game
        </button>
      </.form>
    </div>
  </div>
  <div class="rules-section">
    <h3 class="rules-title">How to Play</h3>
    <div class="rules-grid">
      <div class="rule-card">
        <.icon name="hero-bullseye" class="w-6 h-6" />
        <h4>Placement Phase</h4>
        <p>Place all 9 pieces on the board intersections</p>
      </div>
      <div class="rule-card">
        <.icon name="hero-rocket-launch" class="w-6 h-6" />
        <h4>Movement Phase</h4>
        <p>Move pieces to adjacent positions</p>
      </div>
      <div class="rule-card">
        <.icon name="hero-paper-airplane" class="w-6 h-6" />
        <h4>Flying Phase</h4>
        <p>Move pieces anywhere when you have 3 pieces left</p>
      </div>
      <div class="rule-card">
        <.icon name="hero-bolt" class="w-6 h-6" />
        <h4>Mills</h4>
        <p>Form 3-in-a-row to remove opponent's pieces</p>
      </div>
    </div>
  </div>
</div>
